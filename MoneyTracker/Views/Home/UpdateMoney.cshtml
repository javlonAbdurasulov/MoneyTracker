@using MoneyTracker.Domain.Models.DTO;
@model UpdateView;
@{
    Layout = "/Views/Shared/_UpdateTransactionLayout.cshtml";
}
<h2>Update Transaction</h2>

<form asp-action="UpdateTransactions" method="get">
    <div class="input-group">
        <label for="transaction-date">Date</label>
        <input type="date" id="transaction-date" name="Date" value="@Model.Date.ToString("yyyy-MM-dd")" required>
    </div>
    
    <div class="input-group">
        <label for="categoryType">Category</label>
            <select id="categoryType" name="Category.IsIncome">
        @if(@Model.Category.IsIncome == true){
                <option value="true" class="">Income</option>
                <option value="false" class="">Expense</option>
        }
        else{
                <option value="false" class="">Expense</option>
                <option value="true" class="">Income</option>
        }
            </select>
    </div>
    <div class="input-group">
        <label for="subcategory">Subcategory</label>
        <select id="subcategory" name="Category.Id">
            <option value="@Model.Category.Id" class="@(Model.Category.IsIncome==true ? "income" : "expense")">@Model.Category.Name</option>
            @if (@Model.Category.Id != 1)
            {
                <option value="1" class="income ">Заработная плата</option>   
            }
            @if (@Model.Category.Id != 2)
            {
            <option value="2" class="income ">Аренда</option>
            }
            @if (@Model.Category.Id != 3)
            {
            <option value="3" class="income ">Иные приходы</option>
            }
            @if (@Model.Category.Id != 4)
            {
            <option value="4" class="expense hidden">Продукты питания</option>
            }
            @if (@Model.Category.Id != 5)
            {
            <option value="5" class="expense hidden">Транспорт</option>
            }
            @if (@Model.Category.Id != 6)
            {
            <option value="6" class="expense hidden">Мобильная Связь</option>
            }
            @if (@Model.Category.Id != 7)
            {
            <option value="7" class="expense hidden">Интернет</option>
            }
            @if (@Model.Category.Id != 8)
            {
            <option value="8" class="expense hidden">Развлечение</option>
            }
            @if (@Model.Category.Id != 9)
            {
            <option value="9" class="expense hidden">Другие расходы</option>
            }
        </select>
    </div>

    <div class="input-group">
        <label for="transaction-amount">Amount</label>
        <input type="number" id="transaction-amount"  name="Amount" value="@Model.Amount" required>
    </div>

    <div class="input-group">
        <label for="transaction-comment">Comment</label>
        <input type="text" id="transaction-comment" name="Comment" value="@Model.Comment">
    </div>

    <input type="hidden" name="Id" value="@Model.Id">
    <input type="hidden" name="UserId" value="@Model.UserId">
    <input type="hidden" name="Category" value="@Model.Category">
    <input type="hidden" name="UserName" value="@Model.UserName">
    <button type="submit">Update</button>
</form>